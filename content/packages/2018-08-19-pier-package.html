---
title: pier Package
author: Matt Johnson
date: '2018-08-19'
slug: pier-package
categories:
  - packages
  - r
tags:
  - htmlwidgets
description: ''
featured: ''
featuredalt: ''
featuredpath: ''
format: ''
link: ''
linktitle: ''
type: itemized
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/d3/d3.min.js"></script>
<script src="/rmarkdown-libs/d3pie/d3pie.min.js"></script>
<script src="/rmarkdown-libs/pier-binding/pier.js"></script>


<p><a href="https://zenodo.org/badge/latestdoi/56191948"><img src="https://zenodo.org/badge/56191948.svg" alt="DOI" /></a> <a href="https://travis-ci.org/mrjoh3/pier"><img src="https://travis-ci.org/mrjoh3/pier.svg?branch=master" alt="Build Status" /></a> <a href="https://codecov.io/gh/mrjoh3/pier"><img src="https://codecov.io/gh/mrjoh3/pier/branch/master/graph/badge.svg" alt="codecov" /></a></p>
<p>The <code>pier</code> package (pronounced pie-r) is a wrapper, or <a href="http://www.htmlwidgets.org/">htmlwidget</a>, for the <a href="http://d3pie.org/">d3pie</a> javascript library by <a href="https://github.com/benkeen">Benjamin Keen</a>. If you are just wanting to generate a pie chart the d3pie website has a fantastic <a href="http://d3pie.org/#generator">generator</a> that will create the code that you need. If you are wanting create a chart using <a href="https://www.r-project.org/">R</a> for embedding in a Rmarkdown document or Shiny App, then you are in the right place.</p>
<p>The <code>d3pie</code> library is very versatile and includes a lot of options. Currently this package only wraps the <a href="http://d3pie.org/#docs-configuration">configuration object</a>. Even with this current limitation a wide range of options are available.</p>
<p>Currently the intention is to wrap the entire <a href="http://d3pie.org/#docs-api">d3pie</a> api.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>You probably already guesssed this bit.</p>
<pre class="r"><code>devtools::install_github(&quot;mrjoh3/pier&quot;)</code></pre>
</div>
<div id="usage" class="section level2">
<h2>Usage</h2>
<p>The <code>pier</code> package is intended to be as simple and lightweight as possible. As a starting point the data input must be a <code>data.frame</code> with three required columns: <code>label</code>, <code>value</code> and <code>color</code>. From this point most of the defaults from <code>d3pie</code> are carried over. Note that all examples here have lost their interactivity.</p>
<pre class="r"><code>library(pier)

data &lt;- data.frame(label = c(&#39;Environment&#39;,&#39;Education&#39;,&#39;Business&#39;,&#39;Community&#39;),
                   value = c(104,119,638,1250),
                   color = RColorBrewer::brewer.pal(4, &#39;Spectral&#39;))

pier(data) %&gt;% pie.size(height = 350)</code></pre>
<div id="htmlwidget-1" style="width:768px;height:480px;" class="pier html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":{"sortOrder":"none","content":[{"label":"Environment","value":104,"color":"#D7191C"},{"label":"Education","value":119,"color":"#FDAE61"},{"label":"Business","value":638,"color":"#ABDDA4"},{"label":"Community","value":1250,"color":"#2B83BA"}]},"settings":null,"size":{"canvasHeight":350,"pieInnerRadius":[],"pieOuterRadius":"90%"}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="advanced-usage" class="section level2">
<h2>Advanced Usage</h2>
<pre class="r"><code>data %&gt;%
    pier() %&gt;%
    pie.size(inner=70, outer=100, width = 500, height = 350) %&gt;%
    pie.header(text=&#39;Segments&#39;, font=&#39;Impact&#39;, location=&#39;pie-center&#39;) %&gt;%
    pie.subtitle(text=&#39;by Type&#39;) %&gt;%
    pie.footer(text=&#39;Economic Segments using fake data.&#39;,
               location = &#39;bottom-left&#39;) %&gt;%
    pie.tooltips()</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="pier html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"data":{"sortOrder":"none","content":[{"label":"Environment","value":104,"color":"#D7191C"},{"label":"Education","value":119,"color":"#FDAE61"},{"label":"Business","value":638,"color":"#ABDDA4"},{"label":"Community","value":1250,"color":"#2B83BA"}]},"settings":null,"size":{"canvasWidth":500,"canvasHeight":350,"pieInnerRadius":"70%","pieOuterRadius":"100%"},"header":{"title":{"text":"Segments","font":"Impact"},"location":"pie-center","subtitle":{"text":"by Type"}},"footer":{"text":"Economic Segments using fake data.","location":"bottom-left"},"tooltips":{"enabled":true,"type":"placeholder","string":"{label}: {value}, {percentage}%","styles":{"fadeInSpeed":250,"backgroundColor":"#000000","backgroundOpacity":0.5,"color":"#efefef","borderRadius":2,"font":"arial","fontSize":10,"padding":4}}},"evals":[],"jsHooks":[]}</script>
</div>
